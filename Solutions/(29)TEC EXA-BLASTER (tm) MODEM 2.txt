****
 XA - GLOBAL
****
GRAB 300
LINK 800
MARK LOOP
COPY F #DIAL
TEST EOF
FJMP LOOP
WIPE
MAKE
MARK START
REPL GRABDATA
MARK TAKENUMBERS
NOOP
SEEK 9999
TEST MRD
FJMP DIAL
COPY M F
JUMP TAKENUMBERS

MARK DIAL
SEEK -9999
TEST EOF
TJMP DIE
SEEK 1
COPY 11 X
COPY -1 #DIAL
MARK DIALNUMBER
COPY F #DIAL
SUBI X 1 X
TEST X = 0
FJMP DIALNUMBER
REPL GRABDATA
NOOP
NOOP
TEST MRD
TJMP ERASENUMBER
TEST EOF
TJMP DIE
SEEK 1
COPY 11 X
JUMP DIALNUMBER

MARK ERASENUMBER
COPY 12 T
SEEK -12
MARK ERASELOOP
VOID F
SUBI T 1 T
TJMP ERASELOOP
JUMP TAKENUMBERS

MARK GRABDATA
LINK 800
GRAB 200
MARK GRABANDSEND
COPY F M
TEST EOF
FJMP GRABANDSEND
MARK DIE
WIPE