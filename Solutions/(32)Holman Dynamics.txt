****
 XA - GLOBAL
****
LINK 800
LINK 802
LINK 799
GRAB 199
MARK LOOP
COPY F M
COPY M T
TJMP DIE
TEST EOF
TJMP DIE2
JUMP LOOP
MARK DIE2
COPY -1 M
MARK DIE

****
 XB - GLOBAL
****
MAKE
MARK LOOP
COPY M F
SEEK -1
TEST F = -1
TJMP DIE2
SEEK -1
TEST F < 0
TJMP RESTART
TEST X = 15
TJMP CHECK
ADDI X 1 X
COPY 0 M
JUMP LOOP

MARK CHECK
SEEK -9999
MODE
COPY 0 X
MARK LOOPCHECK
TEST EOF
TJMP DIE
MULI 2 F M
ADDI X M X
ADDI F X X
JUMP LOOPCHECK

MARK RESTART
WIPE
MAKE
COPY 0 X
COPY 0 M
JUMP LOOP
MARK CHECKNEXT
COPY 0 M
COPY M X
TEST X < 0
TJMP RESTART
SEEK -9999
VOID F
SEEK 9999
COPY X F
JUMP CHECK


MARK DIE
MODE
SWIZ X 1 T
TJMP CHECKNEXT
COPY 1 M
MARK DIE2
MODE 
COPY -1

****
 XC - LOCAL
****
MARK LOOP
COPY M X
TEST X = -1
TJMP DIE
TEST X > 9
TJMP SENDHIGH
COPY X M
JUMP LOOP

MARK SENDHIGH
SUBI X 9 M
JUMP LOOP

MARK DIE